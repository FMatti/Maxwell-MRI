%%% LANGUAGE AND FONTS
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[activate={true,nocompatibility},final,tracking=true,kerning=true,spacing=true,factor=1100,stretch=10,shrink=10]{microtype}

\usepackage[english]{babel}

\usepackage{csquotes}

\usepackage{palatino}
\usepackage{eulervm}


%%% PAGE LAYOUT
\usepackage[textwidth=400pt,
            textheight=620pt,
            headheight=15pt,
            voffset=40pt]{geometry}

% Header
\usepackage{fancyhdr}

\fancyhf{}
\fancyhead[L]{\leftmark}
\fancyhead[R]{\thepage}

% Section title styles
\renewcommand\section{\@startsection{section}{1}{\z@}
                                   {-3.5ex \@plus -1.3ex \@minus -.7ex}
                                   {2.3ex \@plus.4ex \@minus .4ex}
                                   {\scshape\Large\bfseries}}
\renewcommand\subsection{\@startsection{subsection}{2}{\z@}
                                   {-2.3ex\@plus -1ex \@minus -.5ex}
                                   {1.2ex \@plus .3ex \@minus .3ex}
                                   {\scshape\large\bfseries}}
\renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}
                                   {-2.3ex\@plus -1ex \@minus -.5ex}
                                   {1ex \@plus .2ex \@minus .2ex}
                                   {\scshape\normalsize\bfseries}}

\makeatletter
\renewenvironment{abstract}{%
      \begin{center}%
        {\scshape\Large\bfseries\abstractname}% 
      \end{center}}
\makeatother


%%% COLOR DEFINITIONS
\usepackage{xcolor}
\definecolor{darkblue}{rgb}{0.0313, 0.1882, 0.4196}
\definecolor{normalblue}{rgb}{0.1294, 0.4431, 0.7098}
\definecolor{lightblue}{rgb}{0.4235, 0.6823, 0.8392}


%%% REFERENCING
\usepackage[square, numbers]{natbib}
\bibliographystyle{plainnat}

% Links
\usepackage{url}
\urlstyle{same}

% Clickable references
\usepackage[linktoc=all]{hyperref}

% Enumerations within section (Figure 3.4 instead of maybe Figure 42)
\counterwithin{figure}{section}
\counterwithin{table}{section}
\counterwithin{equation}{section}
\usepackage[list=true, listformat=simple]{subcaption}

%%% ALGORITHMS

\usepackage{algorithm}
\usepackage{algpseudocode}

%%% FIGURES AND TABLES
\usepackage{graphicx}
\usepackage{tikz}

% Table layouting
\usepackage{booktabs}

\usepackage{multirow}

% Caption
\usepackage[font=small,
            labelfont=sc,
            labelsep=endash,
            margin=\parindent,
            tableposition=top]{caption}


%%% MATHEMATICS
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[many]{tcolorbox}

\usepackage{accents}

\newtcolorbox{fancybox}[2][]
{
  colframe = black,
  colback  = white,
  coltitle = white,
  title    = {#2},
  sharp corners,
  before skip=10pt,
  after skip=10pt,
  left=3pt,
  right=3pt,
  #1,
}

%%% TITLEPAGE LAYOUT
\newcommand*{\project}[1]{\gdef\@project{#1}}
\newcommand*{\degree}[1]{\gdef\@degree{#1}}
\newcommand*{\institution}[1]{\gdef\@institution{#1}}
\newcommand*{\supervisor}[1]{\gdef\@supervisor{#1}}

% Redefinition of the \maketitle command
\renewcommand*{\maketitle}{
    \begin{titlepage}
    \centering
    {\scshape\LARGE\@institution\unskip\strut\par}
    \vspace{1cm}
    {\scshape\Large\@project\unskip\strut\par}
    \vspace{1cm}
    {\scshape\Large\@degree\unskip\strut\par}
    \vspace{2cm}
    {\huge\bfseries\@title\unskip\strut\par}
    \vspace{2cm}
    {\Large\itshape\@author\unskip\strut\par}
    \vfill
    supervised by\par
    \@supervisor\unskip\strut\par
    \vfill
    {\large \@date\par}
    \end{titlepage}
}


%%% GLOSSARY
\usepackage[acronym, nogroupskip, nopostdot]{glossaries}
\makeglossaries

% Create acronyms
\newacronym{MRI}{MRI}{Minimal Rational Interpolation}
\newacronym{gMRI}{gMRI}{Greedy Minimal Rational Interpolation}
\newacronym{DMCWF}{DMCWF}{Dual-Mode Circular Waveguide Filter}
\newacronym{SVD}{SVD}{Singular Value Decomposition}
\newacronym{FEM}{FEM}{Finite Element Method}
\newacronym{PDE}{PDE}{Partial Differential Equation}
\newacronym{DOF}{DOF}{Degrees of Freedom}

%%% Code listings

\usepackage{listings}

\usepackage{inconsolata}            % loading consolas font family

\definecolor{comments}{HTML}{608B4E}
\definecolor{strings}{HTML}{CE9178}
\colorlet{enumeration}{black!80!white}
\colorlet{background}{black!2!white}
\definecolor{keywords}{HTML}{0000FF}
\definecolor{operator}{HTML}{900090}
\definecolor{text}{HTML}{000000}

\lstset{ 
  backgroundcolor=\color{background},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
  basicstyle=\footnotesize\ttfamily\color{text},        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=false,                    % sets the caption-position to bottom
  commentstyle=\color{comments},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  firstnumber={},                   % start line enumeration with line 1000
  frame=leftline,	                   % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{keywords},       % keyword style
  language=Python,                    % the language of the code
  morekeywords={*,...},            % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=8pt,                   % how far the line-numbers are from the code
  numberstyle=\scriptsize\ttfamily\color{enumeration}, % the style that is used for the line-numbers
  rulecolor=\color{enumeration},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=1,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{strings},     % string literal style
  tabsize=2,	                   % sets default tabsize to 2 spaces
  title=\lstname,                   % show the filename of files included with \lstinputlisting; also try caption instead of title
  xleftmargin=12pt
}
